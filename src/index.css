@import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100..900&display=swap');
@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-sans: "Vazirmatn", system-ui, sans-serif;

  --color-primary-50: #faf5ff;
  --color-primary-100: #f3e8ff;
  --color-primary-200: #e9d5ff;
  --color-primary-300: #d8b4fe;
  --color-primary-400: #c084fc;
  --color-primary-500: #a855f7;
  --color-primary-600: #9333ea;
  --color-primary-700: #7e22ce;
  --color-primary-800: #6b21a8;
  --color-primary-900: #581c87;

  --color-accent-50: #fdf2f8;
  --color-accent-100: #fce7f3;
  --color-accent-200: #fbcfe8;
  --color-accent-400: #f472b6;
  --color-accent-500: #ec4899;
  --color-accent-600: #db2777;

  --color-warning-50: #fffbeb;
  --color-warning-100: #fef3c7;
  --color-warning-400: #fbbf24;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;

  --color-danger-50: #fef2f2;
  --color-danger-100: #fee2e2;
  --color-danger-400: #f87171;
  --color-danger-500: #ef4444;
  --color-danger-600: #dc2626;
}

body {
  font-family: var(--font-sans);
  direction: rtl;
  margin: 0;
  min-height: 100vh;
}

/* FullCalendar — Aurora Gradient */
.fc { direction: rtl; font-family: var(--font-sans); }
.fc .fc-col-header-cell-cushion, .fc .fc-timegrid-slot-label-cushion { font-family: var(--font-sans); font-size: 0.8rem; }
.fc .fc-timegrid-event { border-radius: 0.75rem; border: none; cursor: pointer; }
.fc .fc-timegrid-col-events { margin: 0 2px !important; }
.fc .fc-timegrid-event .fc-event-main { padding: 2px 6px; overflow: hidden; }
.fc .fc-toolbar { display: none !important; }

.fc .fc-scrollgrid {
  border-radius: 1rem;
  overflow: hidden;
  border: 1px solid #e9d5ff;
  box-shadow: 0 4px 20px rgba(139, 92, 246, 0.08);
}

.fc td, .fc th { border-color: #ede9fe; }
.fc .fc-col-header-cell { background: linear-gradient(135deg, #f5f3ff, #fdf2f8); color: #6b21a8; }
.fc .fc-timegrid-slot-label { color: #7c3aed; }
.fc .fc-timegrid-col { background: rgba(255, 255, 255, 0.6); }
.fc .fc-timegrid-slot { height: 2.5rem; }

@media (max-width: 639px) {
  .fc .fc-timegrid-slot { height: 2rem; }
  .fc .fc-col-header-cell-cushion, .fc .fc-timegrid-slot-label-cushion { font-size: 0.7rem; }
  .fc .fc-timegrid-event .fc-event-main { padding: 1px 3px; }
}

/* Dark FullCalendar — Aurora */
.dark .fc .fc-scrollgrid { border-color: rgba(139, 92, 246, 0.2); box-shadow: 0 4px 20px rgba(139, 92, 246, 0.1); }
.dark .fc td, .dark .fc th { border-color: rgba(139, 92, 246, 0.15); }
.dark .fc .fc-col-header-cell { background: linear-gradient(135deg, rgba(88, 28, 135, 0.4), rgba(157, 23, 77, 0.3)); color: #d8b4fe; }
.dark .fc .fc-timegrid-slot-label { color: #c4b5fd; }
.dark .fc .fc-timegrid-col { background: rgba(15, 5, 44, 0.3); }

/* ─── Transposed calendar — Aurora ─── */
.transposed-cal { font-family: var(--font-sans); direction: rtl; }
.transposed-cal > div { border-radius: 1rem; overflow: hidden; border: 1px solid #e9d5ff; box-shadow: 0 4px 20px rgba(139, 92, 246, 0.08); }
.transposed-cal-corner { background: linear-gradient(135deg, #f5f3ff, #fdf2f8); border-bottom: 1px solid #e9d5ff; }
.transposed-cal-hour-header { font-size: 0.75rem; font-weight: 500; color: #7c3aed; padding: 8px 0; text-align: center; border-bottom: 1px solid #e9d5ff; border-right: 1px solid #e9d5ff; background: linear-gradient(135deg, #f5f3ff, #fdf2f8); }
.transposed-cal-day-label { font-size: 0.8rem; font-weight: 600; color: #6b21a8; padding: 0 12px; text-align: center; white-space: nowrap; border-bottom: 1px solid #e9d5ff; background: linear-gradient(135deg, #f5f3ff, #fdf2f8); display: flex; align-items: center; justify-content: center; }
.transposed-cal-track { position: relative; height: 52px; border-bottom: 1px solid #ede9fe; background: rgba(255, 255, 255, 0.5); }
.transposed-cal-grid { position: absolute; inset: 0; display: flex; direction: ltr; }
.transposed-cal-gridline { flex: 1; border-left: 1px solid #f5f3ff; }
.transposed-cal-gridline:first-child { border-left: none; }
.transposed-cal-event { position: absolute; top: 3px; bottom: 3px; border-radius: 0.5rem; border-right: 3px solid; padding: 2px 8px; display: flex; flex-direction: column; justify-content: center; overflow: hidden; cursor: pointer; z-index: 1; transition: all 0.2s; }
.transposed-cal-event--conflict { border-right-width: 3px; border-right-style: solid; box-shadow: inset 0 0 0 1px rgba(239, 68, 68, 0.3); }
.transposed-cal-event:hover { filter: brightness(0.95); box-shadow: 0 2px 10px rgba(139, 92, 246, 0.2); }
.transposed-cal-event-name { font-size: 0.7rem; font-weight: 700; line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.transposed-cal-event-prof { font-size: 0.6rem; opacity: 0.8; line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Dark transposed — Aurora */
.dark .transposed-cal > div { border-color: rgba(139, 92, 246, 0.2); box-shadow: 0 4px 20px rgba(139, 92, 246, 0.1); }
.dark .transposed-cal-corner { background: linear-gradient(135deg, rgba(88, 28, 135, 0.4), rgba(157, 23, 77, 0.3)); border-bottom-color: rgba(139, 92, 246, 0.2); }
.dark .transposed-cal-hour-header { color: #c4b5fd; border-bottom-color: rgba(139, 92, 246, 0.15); border-right-color: rgba(139, 92, 246, 0.15); background: linear-gradient(135deg, rgba(88, 28, 135, 0.3), rgba(157, 23, 77, 0.2)); }
.dark .transposed-cal-day-label { color: #d8b4fe; border-bottom-color: rgba(139, 92, 246, 0.15); background: linear-gradient(135deg, rgba(88, 28, 135, 0.3), rgba(157, 23, 77, 0.2)); }
.dark .transposed-cal-track { border-bottom-color: rgba(139, 92, 246, 0.1); background: rgba(15, 5, 44, 0.2); }
.dark .transposed-cal-gridline { border-left-color: rgba(139, 92, 246, 0.06); }

.conflict-badge { position: absolute; top: 1px; left: 2px; font-size: 0.6rem; line-height: 1; z-index: 2; filter: saturate(2); }

.fc .fc-highlight { background-color: rgba(168, 85, 247, 0.12); border: 1.5px dashed rgba(168, 85, 247, 0.4); border-radius: 0.5rem; z-index: 0 !important; }
.dark .fc .fc-highlight { background-color: rgba(192, 132, 252, 0.12); border-color: rgba(192, 132, 252, 0.35); }
.fc .fc-timegrid-event.fc-event--conflict { box-shadow: inset 0 0 0 1px rgba(239, 68, 68, 0.3); }

@media (max-width: 639px) {
  .transposed-cal-hour-header { font-size: 0.65rem; }
  .transposed-cal-day-label { font-size: 0.7rem; padding: 0 6px; }
  .transposed-cal-track { height: 44px; }
  .transposed-cal-event-name { font-size: 0.6rem; }
  .transposed-cal-event-prof { font-size: 0.55rem; }
}
